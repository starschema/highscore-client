!function n(r,t,e){function o(i,a){if(!t[i]){if(!r[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(u)return u(i,!0);var s=Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var f=t[i]={exports:{}};r[i][0].call(f.exports,function(n){var t=r[i][1][n];return o(t?t:n)},f,f.exports,n,r,t,e)}return t[i].exports}for(var u="function"==typeof require&&require,i=0;i<e.length;i++)o(e[i]);return o}({1:[function(n,r){var t,e,o,u,i,a,c,s,f,l,p,d,h,v,g;o=n("browser-request"),u=n("underscore"),e=1e3,t={NEW:"new-game",EVENT:"add-events"},h=null,p=null,s=null,c=[],f=function(n){return h=n,c=[]},g=function(n,r,e){return null==h||""===h?void console.log("Couldn't start game, connector is not initialized"):(s={"user-name":r,"game-type":n,"start-time":Date.now(),score:0,id:null},c=[],null!=p&&clearInterval(p),o.post(h+"/"+t.NEW+"/"+n,s,function(n,r,t){var o;return(o=l(n,r))?(console.log("Couldn't start game: "+o),e(n)):(s.id=t["game-id"],v(),e(null))}))},a=function(n,r){return c.push({type:n,timestamp:i()}),null!=r?s.score=r:void 0},l=function(){},d=function(){var n,r;return 0!==c.length?(n=u.clone(c),r={"game-id":s.id,score:s.score,duration:i(),events:n},o.post(h+"/"+t.EVENT,r,function(r,t){return l(r,t)?void 0:u.difference(c,n)})):void 0},i=function(n){return null!=n?n-s["start-time"]:Date.now()-s["start-time"]},v=function(){return p=setInterval(d,e)},window.Highscore=r.exports={init:f,startGame:g,eventHappened:a}},{"browser-request":2,underscore:3}],2:[function(n,r,t){!function(n,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof t?r.exports=e():n.returnExports=e()}(this,function(){function n(o,u){if("function"!=typeof u)throw Error("Bad callback given: "+u);if(!o)throw Error("No options given");var a=o.onResponse;if(o="string"==typeof o?{uri:o}:JSON.parse(JSON.stringify(o)),o.onResponse=a,o.verbose&&(n.log=e()),o.url&&(o.uri=o.url,delete o.url),!o.uri&&""!==o.uri)throw Error("options.uri is a required argument");if("string"!=typeof o.uri)throw Error("options.uri must be a string");for(var c=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],s=0;s<c.length;s++)if(o[c[s]])throw Error("options."+c[s]+" is not supported");if(o.callback=u,o.method=o.method||"GET",o.headers=o.headers||{},o.body=o.body||null,o.timeout=o.timeout||n.DEFAULT_TIMEOUT,o.headers.host)throw Error("Options.headers.host is not supported");o.json&&(o.headers.accept=o.headers.accept||"application/json","GET"!==o.method&&(o.headers["content-type"]="application/json"),"boolean"!=typeof o.json?o.body=JSON.stringify(o.json):"string"!=typeof o.body&&(o.body=JSON.stringify(o.body)));var f=function(n){var r=[];for(var t in n)n.hasOwnProperty(t)&&r.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return r.join("&")};if(o.qs){var l="string"==typeof o.qs?o.qs:f(o.qs);-1!==o.uri.indexOf("?")?o.uri=o.uri+"&"+l:o.uri=o.uri+"?"+l}var p=function(n){var r={};r.boundry="-------------------------------"+Math.floor(1e9*Math.random());var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push("--"+r.boundry+'\nContent-Disposition: form-data; name="'+e+'"\n\n'+n[e]+"\n");return t.push("--"+r.boundry+"--"),r.body=t.join(""),r.length=r.body.length,r.type="multipart/form-data; boundary="+r.boundry,r};if(o.form){if("string"==typeof o.form)throw"form name unsupported";if("POST"===o.method){var d=(o.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(o.headers["content-type"]=d,d){case"application/x-www-form-urlencoded":o.body=f(o.form).replace(/%20/g,"+");break;case"multipart/form-data":var h=p(o.form);o.body=h.body,o.headers["content-type"]=h.type;break;default:throw Error("unsupported encoding:"+d)}}}return o.onResponse=o.onResponse||t,o.onResponse===!0&&(o.onResponse=u,o.callback=t),!o.headers.authorization&&o.auth&&(o.headers.authorization="Basic "+i(o.auth.username+":"+o.auth.password)),r(o)}function r(r){function t(){l=!0;var t=Error("ETIMEDOUT");return t.code="ETIMEDOUT",t.duration=r.timeout,n.log.error("Timeout",{id:f._id,milliseconds:r.timeout}),r.callback(t,f)}function e(){if(l)return n.log.debug("Ignoring timed out state change",{state:f.readyState,id:f.id});if(n.log.debug("State change",{state:f.readyState,id:f.id,timed_out:l}),f.readyState===a.OPENED){n.log.debug("Request started",{id:f.id});for(var t in r.headers)f.setRequestHeader(t,r.headers[t])}else f.readyState===a.HEADERS_RECEIVED?o():f.readyState===a.LOADING?(o(),i()):f.readyState===a.DONE&&(o(),i(),c())}function o(){if(!v.response){if(v.response=!0,n.log.debug("Got response",{id:f.id,status:f.status}),clearTimeout(f.timeoutTimer),f.statusCode=f.status,p&&0==f.statusCode){var t=Error("CORS request rejected: "+r.uri);return t.cors="rejected",v.loading=!0,v.end=!0,r.callback(t,f)}r.onResponse(null,f)}}function i(){v.loading||(v.loading=!0,n.log.debug("Response body loading",{id:f.id}))}function c(){if(!v.end){if(v.end=!0,n.log.debug("Request done",{id:f.id}),f.body=f.responseText,r.json)try{f.body=JSON.parse(f.responseText)}catch(t){return r.callback(t,f)}r.callback(null,f,f.body)}}var f=new a,l=!1,p=u(r.uri),d="withCredentials"in f;if(s+=1,f.seq_id=s,f.id=s+": "+r.method+" "+r.uri,f._id=f.id,p&&!d){var h=Error("Browser does not support cross-origin request: "+r.uri);return h.cors="unsupported",r.callback(h,f)}f.timeoutTimer=setTimeout(t,r.timeout);var v={response:!1,loading:!1,end:!1};return f.onreadystatechange=e,f.open(r.method,r.uri,!0),p&&(f.withCredentials=!!r.withCredentials),f.send(r.body),f}function t(){}function e(){var n,r,e={},u=["trace","debug","info","warn","error"];for(r=0;r<u.length;r++)n=u[r],e[n]=t,"undefined"!=typeof console&&console&&console[n]&&(e[n]=o(console,n));return e}function o(n,r){function t(t,e){return"object"==typeof e&&(t+=" "+JSON.stringify(e)),n[r].call(n,t)}return t}function u(n){var r,t=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{r=location.href}catch(e){r=document.createElement("a"),r.href="",r=r.href}var o=t.exec(r.toLowerCase())||[],u=t.exec(n.toLowerCase()),i=!(!u||u[1]==o[1]&&u[2]==o[2]&&(u[3]||("http:"===u[1]?80:443))==(o[3]||("http:"===o[1]?80:443)));return i}function i(n){var r,t,e,o,u,i,a,c,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=0,l=0,p="",d=[];if(!n)return n;do r=n.charCodeAt(f++),t=n.charCodeAt(f++),e=n.charCodeAt(f++),c=r<<16|t<<8|e,o=c>>18&63,u=c>>12&63,i=c>>6&63,a=63&c,d[l++]=s.charAt(o)+s.charAt(u)+s.charAt(i)+s.charAt(a);while(f<n.length);switch(p=d.join(""),n.length%3){case 1:p=p.slice(0,-2)+"==";break;case 2:p=p.slice(0,-1)+"="}return p}var a=XMLHttpRequest;if(!a)throw Error("missing XMLHttpRequest");n.log={trace:t,debug:t,info:t,warn:t,error:t};var c=18e4,s=0;n.withCredentials=!1,n.DEFAULT_TIMEOUT=c,n.defaults=function(r){var t=function(n){var t=function(t,e){t="string"==typeof t?{uri:t}:JSON.parse(JSON.stringify(t));for(var o in r)void 0===t[o]&&(t[o]=r[o]);return n(t,e)};return t},e=t(n);return e.get=t(n.get),e.post=t(n.post),e.put=t(n.put),e.head=t(n.head),e};var f=["get","put","post","head"];return f.forEach(function(r){var t=r.toUpperCase(),e=r.toLowerCase();n[e]=function(r){"string"==typeof r?r={method:t,uri:r}:(r=JSON.parse(JSON.stringify(r)),r.method=t);var e=[r].concat(Array.prototype.slice.apply(arguments,[1]));return n.apply(this,e)}}),n.couch=function(r,e){function o(n,r,t){if(n)return e(n,r,t);if((r.statusCode<200||r.statusCode>299)&&t.error){n=Error("CouchDB error: "+(t.error.reason||t.error.error));for(var o in t)n[o]=t[o];return e(n,r,t)}return e(n,r,t)}"string"==typeof r&&(r={uri:r}),r.json=!0,r.body&&(r.json=r.body),delete r.body,e=e||t;var u=n(r,o);return u},n})},{}],3:[function(n,r,t){(function(){function n(n){function r(r,t,e,o,u,i){for(;u>=0&&i>u;u+=n){var a=o?o[u]:u;e=t(e,r[a],a,r)}return e}return function(t,e,o,u){e=E(e,u,4);var i=!S(t)&&w.keys(t),a=(i||t).length,c=n>0?0:a-1;return arguments.length<3&&(o=t[i?i[c]:c],c+=n),r(t,e,o,i,c,a)}}function e(n){return function(r,t,e){t=x(t,e);for(var o=k(r),u=n>0?0:o-1;u>=0&&o>u;u+=n)if(t(r[u],u,r))return u;return-1}}function o(n,r,t){return function(e,o,u){var i=0,a=k(e);if("number"==typeof u)n>0?i=u>=0?u:Math.max(u+a,i):a=u>=0?Math.min(u+1,a):u+a+1;else if(t&&u&&a)return u=t(e,o),e[u]===o?u:-1;if(o!==o)return u=r(p.call(e,i,a),w.isNaN),u>=0?u+i:-1;for(u=n>0?i:a-1;u>=0&&a>u;u+=n)if(e[u]===o)return u;return-1}}function u(n,r){var t=q.length,e=n.constructor,o=w.isFunction(e)&&e.prototype||s,u="constructor";for(w.has(n,u)&&!w.contains(r,u)&&r.push(u);t--;)u=q[t],u in n&&n[u]!==o[u]&&!w.contains(r,u)&&r.push(u)}var i=this,a=i._,c=Array.prototype,s=Object.prototype,f=Function.prototype,l=c.push,p=c.slice,d=s.toString,h=s.hasOwnProperty,v=Array.isArray,g=Object.keys,y=f.bind,m=Object.create,b=function(){},w=function(n){return n instanceof w?n:this instanceof w?void(this._wrapped=n):new w(n)};void 0!==t?(void 0!==r&&r.exports&&(t=r.exports=w),t._=w):i._=w,w.VERSION="1.8.3";var E=function(n,r,t){if(void 0===r)return n;switch(null==t?3:t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,o){return n.call(r,t,e,o)};case 4:return function(t,e,o,u){return n.call(r,t,e,o,u)}}return function(){return n.apply(r,arguments)}},x=function(n,r,t){return null==n?w.identity:w.isFunction(n)?E(n,r,t):w.isObject(n)?w.matcher(n):w.property(n)};w.iteratee=function(n,r){return x(n,r,1/0)};var j=function(n,r){return function(t){var e=arguments.length;if(2>e||null==t)return t;for(var o=1;e>o;o++)for(var u=arguments[o],i=n(u),a=i.length,c=0;a>c;c++){var s=i[c];r&&void 0!==t[s]||(t[s]=u[s])}return t}},O=function(n){if(!w.isObject(n))return{};if(m)return m(n);b.prototype=n;var r=new b;return b.prototype=null,r},_=function(n){return function(r){return null==r?void 0:r[n]}},A=Math.pow(2,53)-1,k=_("length"),S=function(n){var r=k(n);return"number"==typeof r&&r>=0&&A>=r};w.each=w.forEach=function(n,r,t){r=E(r,t);var e,o;if(S(n))for(e=0,o=n.length;o>e;e++)r(n[e],e,n);else{var u=w.keys(n);for(e=0,o=u.length;o>e;e++)r(n[u[e]],u[e],n)}return n},w.map=w.collect=function(n,r,t){r=x(r,t);for(var e=!S(n)&&w.keys(n),o=(e||n).length,u=Array(o),i=0;o>i;i++){var a=e?e[i]:i;u[i]=r(n[a],a,n)}return u},w.reduce=w.foldl=w.inject=n(1),w.reduceRight=w.foldr=n(-1),w.find=w.detect=function(n,r,t){var e;return e=S(n)?w.findIndex(n,r,t):w.findKey(n,r,t),void 0!==e&&-1!==e?n[e]:void 0},w.filter=w.select=function(n,r,t){var e=[];return r=x(r,t),w.each(n,function(n,t,o){r(n,t,o)&&e.push(n)}),e},w.reject=function(n,r,t){return w.filter(n,w.negate(x(r)),t)},w.every=w.all=function(n,r,t){r=x(r,t);for(var e=!S(n)&&w.keys(n),o=(e||n).length,u=0;o>u;u++){var i=e?e[u]:u;if(!r(n[i],i,n))return!1}return!0},w.some=w.any=function(n,r,t){r=x(r,t);for(var e=!S(n)&&w.keys(n),o=(e||n).length,u=0;o>u;u++){var i=e?e[u]:u;if(r(n[i],i,n))return!0}return!1},w.contains=w.includes=w.include=function(n,r,t,e){return S(n)||(n=w.values(n)),("number"!=typeof t||e)&&(t=0),w.indexOf(n,r,t)>=0},w.invoke=function(n,r){var t=p.call(arguments,2),e=w.isFunction(r);return w.map(n,function(n){var o=e?r:n[r];return null==o?o:o.apply(n,t)})},w.pluck=function(n,r){return w.map(n,w.property(r))},w.where=function(n,r){return w.filter(n,w.matcher(r))},w.findWhere=function(n,r){return w.find(n,w.matcher(r))},w.max=function(n,r,t){var e,o,u=-(1/0),i=-(1/0);if(null==r&&null!=n){n=S(n)?n:w.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>u&&(u=e)}else r=x(r,t),w.each(n,function(n,t,e){o=r(n,t,e),(o>i||o===-(1/0)&&u===-(1/0))&&(u=n,i=o)});return u},w.min=function(n,r,t){var e,o,u=1/0,i=1/0;if(null==r&&null!=n){n=S(n)?n:w.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],u>e&&(u=e)}else r=x(r,t),w.each(n,function(n,t,e){o=r(n,t,e),(i>o||o===1/0&&u===1/0)&&(u=n,i=o)});return u},w.shuffle=function(n){for(var r,t=S(n)?n:w.values(n),e=t.length,o=Array(e),u=0;e>u;u++)r=w.random(0,u),r!==u&&(o[u]=o[r]),o[r]=t[u];return o},w.sample=function(n,r,t){return null==r||t?(S(n)||(n=w.values(n)),n[w.random(n.length-1)]):w.shuffle(n).slice(0,Math.max(0,r))},w.sortBy=function(n,r,t){return r=x(r,t),w.pluck(w.map(n,function(n,t,e){return{value:n,index:t,criteria:r(n,t,e)}}).sort(function(n,r){var t=n.criteria,e=r.criteria;if(t!==e){if(t>e||void 0===t)return 1;if(e>t||void 0===e)return-1}return n.index-r.index}),"value")};var N=function(n){return function(r,t,e){var o={};return t=x(t,e),w.each(r,function(e,u){var i=t(e,u,r);n(o,e,i)}),o}};w.groupBy=N(function(n,r,t){w.has(n,t)?n[t].push(r):n[t]=[r]}),w.indexBy=N(function(n,r,t){n[t]=r}),w.countBy=N(function(n,r,t){w.has(n,t)?n[t]++:n[t]=1}),w.toArray=function(n){return n?w.isArray(n)?p.call(n):S(n)?w.map(n,w.identity):w.values(n):[]},w.size=function(n){return null==n?0:S(n)?n.length:w.keys(n).length},w.partition=function(n,r,t){r=x(r,t);var e=[],o=[];return w.each(n,function(n,t,u){(r(n,t,u)?e:o).push(n)}),[e,o]},w.first=w.head=w.take=function(n,r,t){return null==n?void 0:null==r||t?n[0]:w.initial(n,n.length-r)},w.initial=function(n,r,t){return p.call(n,0,Math.max(0,n.length-(null==r||t?1:r)))},w.last=function(n,r,t){return null==n?void 0:null==r||t?n[n.length-1]:w.rest(n,Math.max(0,n.length-r))},w.rest=w.tail=w.drop=function(n,r,t){return p.call(n,null==r||t?1:r)},w.compact=function(n){return w.filter(n,w.identity)};var T=function(n,r,t,e){for(var o=[],u=0,i=e||0,a=k(n);a>i;i++){var c=n[i];if(S(c)&&(w.isArray(c)||w.isArguments(c))){r||(c=T(c,r,t));var s=0,f=c.length;for(o.length+=f;f>s;)o[u++]=c[s++]}else t||(o[u++]=c)}return o};w.flatten=function(n,r){return T(n,r,!1)},w.without=function(n){return w.difference(n,p.call(arguments,1))},w.uniq=w.unique=function(n,r,t,e){w.isBoolean(r)||(e=t,t=r,r=!1),null!=t&&(t=x(t,e));for(var o=[],u=[],i=0,a=k(n);a>i;i++){var c=n[i],s=t?t(c,i,n):c;r?(i&&u===s||o.push(c),u=s):t?w.contains(u,s)||(u.push(s),o.push(c)):w.contains(o,c)||o.push(c)}return o},w.union=function(){return w.uniq(T(arguments,!0,!0))},w.intersection=function(n){for(var r=[],t=arguments.length,e=0,o=k(n);o>e;e++){var u=n[e];if(!w.contains(r,u)){for(var i=1;t>i&&w.contains(arguments[i],u);i++);i===t&&r.push(u)}}return r},w.difference=function(n){var r=T(arguments,!0,!0,1);return w.filter(n,function(n){return!w.contains(r,n)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(n){for(var r=n&&w.max(n,k).length||0,t=Array(r),e=0;r>e;e++)t[e]=w.pluck(n,e);return t},w.object=function(n,r){for(var t={},e=0,o=k(n);o>e;e++)r?t[n[e]]=r[e]:t[n[e][0]]=n[e][1];return t},w.findIndex=e(1),w.findLastIndex=e(-1),w.sortedIndex=function(n,r,t,e){t=x(t,e,1);for(var o=t(r),u=0,i=k(n);i>u;){var a=Math.floor((u+i)/2);t(n[a])<o?u=a+1:i=a}return u},w.indexOf=o(1,w.findIndex,w.sortedIndex),w.lastIndexOf=o(-1,w.findLastIndex),w.range=function(n,r,t){null==r&&(r=n||0,n=0),t=t||1;for(var e=Math.max(Math.ceil((r-n)/t),0),o=Array(e),u=0;e>u;u++,n+=t)o[u]=n;return o};var R=function(n,r,t,e,o){if(!(e instanceof r))return n.apply(t,o);var u=O(n.prototype),i=n.apply(u,o);return w.isObject(i)?i:u};w.bind=function(n,r){if(y&&n.bind===y)return y.apply(n,p.call(arguments,1));if(!w.isFunction(n))throw new TypeError("Bind must be called on a function");var t=p.call(arguments,2),e=function(){return R(n,e,r,this,t.concat(p.call(arguments)))};return e},w.partial=function(n){var r=p.call(arguments,1),t=function(){for(var e=0,o=r.length,u=Array(o),i=0;o>i;i++)u[i]=r[i]===w?arguments[e++]:r[i];for(;e<arguments.length;)u.push(arguments[e++]);return R(n,t,this,this,u)};return t},w.bindAll=function(n){var r,t,e=arguments.length;if(1>=e)throw Error("bindAll must be passed function names");for(r=1;e>r;r++)t=arguments[r],n[t]=w.bind(n[t],n);return n},w.memoize=function(n,r){var t=function(e){var o=t.cache,u=""+(r?r.apply(this,arguments):e);return w.has(o,u)||(o[u]=n.apply(this,arguments)),o[u]};return t.cache={},t},w.delay=function(n,r){var t=p.call(arguments,2);return setTimeout(function(){return n.apply(null,t)},r)},w.defer=w.partial(w.delay,w,1),w.throttle=function(n,r,t){var e,o,u,i=null,a=0;t||(t={});var c=function(){a=t.leading===!1?0:w.now(),i=null,u=n.apply(e,o),i||(e=o=null)};return function(){var s=w.now();a||t.leading!==!1||(a=s);var f=r-(s-a);return e=this,o=arguments,0>=f||f>r?(i&&(clearTimeout(i),i=null),a=s,u=n.apply(e,o),i||(e=o=null)):i||t.trailing===!1||(i=setTimeout(c,f)),u}},w.debounce=function(n,r,t){var e,o,u,i,a,c=function(){var s=w.now()-i;r>s&&s>=0?e=setTimeout(c,r-s):(e=null,t||(a=n.apply(u,o),e||(u=o=null)))};return function(){u=this,o=arguments,i=w.now();var s=t&&!e;return e||(e=setTimeout(c,r)),s&&(a=n.apply(u,o),u=o=null),a}},w.wrap=function(n,r){return w.partial(r,n)},w.negate=function(n){return function(){return!n.apply(this,arguments)}},w.compose=function(){var n=arguments,r=n.length-1;return function(){for(var t=r,e=n[r].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},w.after=function(n,r){return function(){return--n<1?r.apply(this,arguments):void 0}},w.before=function(n,r){var t;return function(){return--n>0&&(t=r.apply(this,arguments)),1>=n&&(r=null),t}},w.once=w.partial(w.before,2);var C=!{toString:null}.propertyIsEnumerable("toString"),q=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(n){if(!w.isObject(n))return[];if(g)return g(n);var r=[];for(var t in n)w.has(n,t)&&r.push(t);return C&&u(n,r),r},w.allKeys=function(n){if(!w.isObject(n))return[];var r=[];for(var t in n)r.push(t);return C&&u(n,r),r},w.values=function(n){for(var r=w.keys(n),t=r.length,e=Array(t),o=0;t>o;o++)e[o]=n[r[o]];return e},w.mapObject=function(n,r,t){r=x(r,t);for(var e,o=w.keys(n),u=o.length,i={},a=0;u>a;a++)e=o[a],i[e]=r(n[e],e,n);return i},w.pairs=function(n){for(var r=w.keys(n),t=r.length,e=Array(t),o=0;t>o;o++)e[o]=[r[o],n[r[o]]];return e},w.invert=function(n){for(var r={},t=w.keys(n),e=0,o=t.length;o>e;e++)r[n[t[e]]]=t[e];return r},w.functions=w.methods=function(n){var r=[];for(var t in n)w.isFunction(n[t])&&r.push(t);return r.sort()},w.extend=j(w.allKeys),w.extendOwn=w.assign=j(w.keys),w.findKey=function(n,r,t){r=x(r,t);for(var e,o=w.keys(n),u=0,i=o.length;i>u;u++)if(e=o[u],r(n[e],e,n))return e},w.pick=function(n,r,t){var e,o,u={},i=n;if(null==i)return u;w.isFunction(r)?(o=w.allKeys(i),e=E(r,t)):(o=T(arguments,!1,!1,1),e=function(n,r,t){return r in t},i=Object(i));for(var a=0,c=o.length;c>a;a++){var s=o[a],f=i[s];e(f,s,i)&&(u[s]=f)}return u},w.omit=function(n,r,t){if(w.isFunction(r))r=w.negate(r);else{var e=w.map(T(arguments,!1,!1,1),String);r=function(n,r){return!w.contains(e,r)}}return w.pick(n,r,t)},w.defaults=j(w.allKeys,!0),w.create=function(n,r){var t=O(n);return r&&w.extendOwn(t,r),t},w.clone=function(n){return w.isObject(n)?w.isArray(n)?n.slice():w.extend({},n):n},w.tap=function(n,r){return r(n),n},w.isMatch=function(n,r){var t=w.keys(r),e=t.length;if(null==n)return!e;for(var o=Object(n),u=0;e>u;u++){var i=t[u];if(r[i]!==o[i]||!(i in o))return!1}return!0};var I=function(n,r,t,e){if(n===r)return 0!==n||1/n===1/r;if(null==n||null==r)return n===r;n instanceof w&&(n=n._wrapped),r instanceof w&&(r=r._wrapped);var o=d.call(n);if(o!==d.call(r))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+n==""+r;case"[object Number]":return+n!==+n?+r!==+r:0===+n?1/+n===1/r:+n===+r;case"[object Date]":case"[object Boolean]":return+n===+r}var u="[object Array]"===o;if(!u){if("object"!=typeof n||"object"!=typeof r)return!1;var i=n.constructor,a=r.constructor;if(i!==a&&!(w.isFunction(i)&&i instanceof i&&w.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in r)return!1}t=t||[],e=e||[];for(var c=t.length;c--;)if(t[c]===n)return e[c]===r;if(t.push(n),e.push(r),u){if(c=n.length,c!==r.length)return!1;for(;c--;)if(!I(n[c],r[c],t,e))return!1}else{var s,f=w.keys(n);if(c=f.length,w.keys(r).length!==c)return!1;for(;c--;)if(s=f[c],!w.has(r,s)||!I(n[s],r[s],t,e))return!1}return t.pop(),e.pop(),!0};w.isEqual=function(n,r){return I(n,r)},w.isEmpty=function(n){return null==n?!0:S(n)&&(w.isArray(n)||w.isString(n)||w.isArguments(n))?0===n.length:0===w.keys(n).length},w.isElement=function(n){return!(!n||1!==n.nodeType)},w.isArray=v||function(n){return"[object Array]"===d.call(n)},w.isObject=function(n){var r=typeof n;return"function"===r||"object"===r&&!!n},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){w["is"+n]=function(r){return d.call(r)==="[object "+n+"]"}}),w.isArguments(arguments)||(w.isArguments=function(n){return w.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(n){return"function"==typeof n||!1}),w.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},w.isNaN=function(n){return w.isNumber(n)&&n!==+n},w.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===d.call(n)},w.isNull=function(n){return null===n},w.isUndefined=function(n){return void 0===n},w.has=function(n,r){return null!=n&&h.call(n,r)},w.noConflict=function(){return i._=a,this},w.identity=function(n){return n},w.constant=function(n){return function(){return n}},w.noop=function(){},w.property=_,w.propertyOf=function(n){return null==n?function(){}:function(r){return n[r]}},w.matcher=w.matches=function(n){return n=w.extendOwn({},n),function(r){return w.isMatch(r,n)}},w.times=function(n,r,t){var e=Array(Math.max(0,n));r=E(r,t,1);for(var o=0;n>o;o++)e[o]=r(o);return e},w.random=function(n,r){return null==r&&(r=n,n=0),n+Math.floor(Math.random()*(r-n+1))},w.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=w.invert(M),D=function(n){var r=function(r){return n[r]},t="(?:"+w.keys(n).join("|")+")",e=RegExp(t),o=RegExp(t,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(o,r):n}};w.escape=D(M),w.unescape=D(F),w.result=function(n,r,t){var e=null==n?void 0:n[r];return void 0===e&&(e=t),w.isFunction(e)?e.call(n):e};var B=0;w.uniqueId=function(n){var r=++B+"";return n?n+r:r},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\u2028|\u2029/g,z=function(n){return"\\"+U[n]};w.template=function(n,r,t){!r&&t&&(r=t),r=w.defaults({},r,w.templateSettings);var e=RegExp([(r.escape||L).source,(r.interpolate||L).source,(r.evaluate||L).source].join("|")+"|$","g"),o=0,u="__p+='";n.replace(e,function(r,t,e,i,a){return u+=n.slice(o,a).replace(J,z),o=a+r.length,t?u+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":e?u+="'+\n((__t=("+e+"))==null?'':__t)+\n'":i&&(u+="';\n"+i+"\n__p+='"),r}),u+="';\n",r.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{var i=Function(r.variable||"obj","_",u)}catch(a){throw a.source=u,a}var c=function(n){return i.call(this,n,w)},s=r.variable||"obj";return c.source="function("+s+"){\n"+u+"}",c},w.chain=function(n){var r=w(n);return r._chain=!0,r};var P=function(n,r){return n._chain?w(r).chain():r};w.mixin=function(n){w.each(w.functions(n),function(r){var t=w[r]=n[r];w.prototype[r]=function(){var n=[this._wrapped];return l.apply(n,arguments),P(this,t.apply(w,n))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var r=c[n];w.prototype[n]=function(){var t=this._wrapped;return r.apply(t,arguments),"shift"!==n&&"splice"!==n||0!==t.length||delete t[0],P(this,t)}}),w.each(["concat","join","slice"],function(n){var r=c[n];w.prototype[n]=function(){return P(this,r.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return w})}).call(this)},{}]},{},[1]);
//# sourceMappingURL=../index.js.map
